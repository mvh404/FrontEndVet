<div class="container">

  <div style="display: flex; justify-content: flex-end; margin-bottom: 10px;">
    <button class="btn btn-secondary" (click)="navegarOtraPagina()">Ir a otra página</button>
  </div>
  
  <h2>Registro de Citas Médicas</h2>

  <form (ngSubmit)="registrarCita()">
    <div class="form-group">
      <label for="fecha">Fecha:</label>
      <input 
        type="date" 
        id="fecha" 
        class="form-control" 
        [(ngModel)]="fecha" 
        name="fecha" 
        required>
    </div>

    <div class="form-group">
      <label for="hora">Hora:</label>
      <input 
        type="time" 
        id="hora" 
        class="form-control" 
        [(ngModel)]="hora" 
        name="hora" 
        required>
    </div>

    <div class="form-group">
      <label for="paciente">Paciente:</label>
      <input 
        type="text" 
        id="paciente" 
        class="form-control" 
        placeholder="Ingresa el nombre del paciente"
        [(ngModel)]="paciente" 
        name="paciente" 
        required>
    </div>

    <div class="form-group">
      <label for="medico">Médico:</label>
      <input 
        type="text" 
        id="medico" 
        class="form-control" 
        placeholder="Ingresa el nombre del médico"
        [(ngModel)]="medico" 
        name="medico" 
        required>
    </div>

    <div class="form-group">
      <label for="consultorio">Consultorio:</label>
      <input 
        type="number" 
        id="consultorio" 
        class="form-control" 
        placeholder="Número de consultorio"
        [(ngModel)]="consultorio" 
        name="consultorio" 
        required>
    </div>

    <!-- Nuevo campo para la descripción -->
    <div class="form-group">
      <label for="descripcion">Descripción:</label>
      <input 
        type="text" 
        id="descripcion" 
        class="form-control" 
        placeholder="Descripción de la consulta"
        [(ngModel)]="descripcion" 
        name="descripcion" 
        required>
    </div>

    <button 
      type="submit" 
      class="btn btn-primary"
      [disabled]="!fecha || !hora || !paciente || !medico || consultorio === null || !descripcion">
      Registrar Cita
    </button>
  </form>

  <table *ngIf="citas.length > 0" class="table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Fecha</th>
        <th>Hora</th>
        <th>Paciente</th>
        <th>Médico</th>
        <th>Consultorio</th>
        <th>Descripción</th>
      </tr>
    </thead> 
    <tbody>
      <tr *ngFor="let cita of citas; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ cita.fecha }}</td>
        <td>{{ cita.hora }}</td>
        <td>{{ cita.paciente }}</td>
        <td>{{ cita.medico }}</td>
        <td>{{ cita.consultorio }}</td>
        <td>{{ cita.descripcion }}</td> <!-- Mostrar la descripción -->
      </tr>
    </tbody>
  </table>
</div>
